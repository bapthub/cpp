Excellent code rien à dire, peut-être la fonction open() est de trop.